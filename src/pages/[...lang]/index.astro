---
import Base from "@/layouts/Base.astro";
import { generatePaths } from "@/lib/utils/i18nUtils";
import { getEntryCTM } from "@/lib/contentParser.astro";
import Page from "@/shared/astro/page.astro";

export function getStaticPaths() {
  return generatePaths();
}

const page = await getEntryCTM("homepage", "-index", Astro.currentLocale);

// Get content_blocks from frontmatter or use defaults
const contentBlocks = page?.data?.content_blocks || [
  { _name: "banner" },
  { _name: "clients" },
  { _name: "services" },
  { _name: "portfolio" },
  { _name: "pricing" },
];
---

<Base {...page?.data} headerPosition="fixed" hasHeaderDarkBackground={true}>
  <Page contentBlocks={contentBlocks} />
</Base>
